(function(t){function e(e){for(var r,i,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},o={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0405":function(t,e,a){},"206d":function(t,e,a){"use strict";a("4413")},"21bb":function(t,e,a){"use strict";a("2dad")},"2dad":function(t,e,a){},"43c1":function(t,e,a){t.exports=a.p+"img/oval.e9cade52.svg"},4413:function(t,e,a){},"53a2":function(t,e,a){"use strict";a("0405")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.$store.getters.isLoggedIn?a("v-app-bar",{staticClass:"border-bottom",attrs:{app:"",color:"white",flat:""}},[a("v-list",{staticClass:"pa-0",attrs:{color:"transparent"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:"https://www.gravatar.com/avatar/blank"}})],1),a("v-list-item-title",[t._v(t._s(t.$store.getters.getUsername))])],1)],1),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.logout}},[a("v-icon",{staticClass:"ml-4"},[t._v("logout")]),a("span",[t._v("تسجيل الخروج")])],1)],1):t._e(),t.$store.getters.isLoggedIn?a("v-navigation-drawer",{attrs:{app:"","disable-resize-watcher":"","mini-variant":t.variant,permanent:"",right:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-btn",{attrs:{block:"",color:"primary",large:"",depressed:"",tile:""},on:{click:function(e){t.variant=!t.variant}}},[a("v-icon",{staticClass:"ml-4"},[t._v("menu")]),a("span",[t._v("القائمة")])],1)]},proxy:!0}],null,!1,3870956507)},[a("v-list",t._l(t.routeList,(function(e){return a("v-list-item",{key:e.title,attrs:{link:"",to:e.path,color:"primary"}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1)],1):t._e(),a("v-main",[a("router-view")],1)],1)},n=[],i={name:"app",data:function(){return{variant:!0,routeList:[{text:"الرئيسية",icon:"home",path:"/"},{text:"الطلبات",icon:"view_list",path:"/orders"},{text:"المنتجات",icon:"category",path:"/products"}]}},methods:{logout:function(){var t=this,e=window.confirm("تسجيل الخروج ؟");e&&this.$store.dispatch("logout").then((function(){t.axios.defaults.headers.common["Authorization"]=""})).catch((function(t){console.error(t)}))}}},s=i,l=(a("5c0b"),a("2877")),c=a("6544"),u=a.n(c),d=a("7496"),p=a("40dc"),f=a("8336"),v=a("132d"),m=a("adda"),g=a("8860"),b=a("da13"),h=a("8270"),x=a("5d23"),y=a("34c3"),_=a("f6c4"),w=a("f774"),k=a("2fa4"),T=Object(l["a"])(s,o,n,!1,null,null,null),E=T.exports;u()(T,{VApp:d["a"],VAppBar:p["a"],VBtn:f["a"],VIcon:v["a"],VImg:m["a"],VList:g["a"],VListItem:b["a"],VListItemAvatar:h["a"],VListItemContent:x["a"],VListItemIcon:y["a"],VListItemTitle:x["b"],VMain:_["a"],VNavigationDrawer:w["a"],VSpacer:k["a"]});var S=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"HomePage"}},[a("h1",{staticClass:"primary--text"},[t._v("مرحبا بكـ "),a("strong",{staticClass:"secondary--text primary pa-3 rounded"},[t._v(t._s(t.$store.getters.getUsername))]),t._v(" في لوحة التحكم")])])},V=[],$={data:function(){return{}}},L=$,P=(a("21bb"),Object(l["a"])(L,O,V,!1,null,null,null)),I=P.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"loginPage"}},[r("div",{staticClass:"login-container"},[r("img",{attrs:{src:a("9b19")}}),t.error?r("v-alert",{attrs:{width:"100%",type:"error"}},[t._v("خطأ في اسم المستخدم او كلمة المرور")]):t._e(),r("v-form",{ref:"loginRef",on:{submit:function(e){return e.preventDefault(),t.login(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{outlined:"",label:"اسم المستخدم",type:"text",clearable:"",rules:t.inputRules},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),r("v-text-field",{attrs:{outlined:"",label:"كلمة المرور",type:t.showPassword?"text":"password",clearable:"",rules:t.inputRules,"append-icon":t.showPassword?"visibility_off":"visibility"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-btn",{attrs:{block:"",color:"primary",type:"submit",loading:t.loading,large:""}},[t._v(" تسجيل الدخول ")])],1)],1)])},F=[],C={name:"Login",data:function(){return{valid:!1,loading:!1,username:"",password:"",showPassword:!1,error:!1,inputRules:[function(t){return!!t||"لا يمكن ترك الحقل فارغ!"}]}},methods:{login:function(){var t=this;this.loading=!0,this.error=!1,setTimeout((function(){t.$refs.loginRef.validate()?t.$store.dispatch("loginAsAdmin",{username:t.username,password:t.password}).then((function(e){t.axios.defaults.headers.common["Authorization"]=e,t.$router.push({path:"/"}),t.loading=!1})).catch((function(e){t.error=!0,t.loading=!1})):t.loading=!1}),1500)}}},q=C,R=(a("206d"),a("0798")),N=a("4bd4"),A=a("8654"),j=Object(l["a"])(q,D,F,!1,null,null,null),M=j.exports;u()(j,{VAlert:R["a"],VBtn:f["a"],VForm:N["a"],VTextField:A["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-4",attrs:{id:"OrdersPage"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"primary"}},[a("span",{staticClass:"secondary--text"},[t._v("الطلبات")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",depressed:"",dark:""},on:{click:function(e){t.newOrderDialog=!0}}},[a("span",{staticClass:"primary--text"},[t._v("اضافة طلب جديد")])])],1),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.newOrderDialog,callback:function(e){t.newOrderDialog=e},expression:"newOrderDialog"}},[a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("span",[t._v("اضافة الطلب")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.newOrderDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-divider"),a("v-form",{ref:"newOrder",staticClass:"pa-4",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}},model:{value:t.validNewForm,callback:function(e){t.validNewForm=e},expression:"validNewForm"}},[a("v-text-field",{attrs:{label:"اسم الزبون",outlined:"",rules:t.newOrderFormRules},model:{value:t.orderToSave.username,callback:function(e){t.$set(t.orderToSave,"username",e)},expression:"orderToSave.username"}}),a("v-text-field",{attrs:{label:"رقم الهاتف",outlined:"",rules:t.newOrderFormRules},model:{value:t.orderToSave.phone,callback:function(e){t.$set(t.orderToSave,"phone",e)},expression:"orderToSave.phone"}}),a("v-text-field",{attrs:{label:"العنوان",outlined:"",rules:t.newOrderFormRules},model:{value:t.orderToSave.address,callback:function(e){t.$set(t.orderToSave,"address",e)},expression:"orderToSave.address"}}),a("v-text-field",{attrs:{label:"اسم المنتج",outlined:"",rules:t.newOrderFormRules},model:{value:t.orderToSave.product_name,callback:function(e){t.$set(t.orderToSave,"product_name",e)},expression:"orderToSave.product_name"}}),a("v-text-field",{attrs:{label:"الكمية",outlined:"",rules:t.newOrderFormRules},model:{value:t.orderToSave.product_quantity,callback:function(e){t.$set(t.orderToSave,"product_quantity",e)},expression:"orderToSave.product_quantity"}}),a("v-select",{attrs:{items:t.orderToSaveStatusOptions,label:"الحالة","item-text":"text","item-value":"value",outlined:""},model:{value:t.orderToSave.status,callback:function(e){t.$set(t.orderToSave,"status",e)},expression:"orderToSave.status"}}),a("v-btn",{attrs:{block:"",color:"secondary",large:"",type:"submit"}},[t._v(" اضافة طلب جديد ")])],1)],1)],1),a("v-data-table",{attrs:{headers:t.headers,items:t.Orders},scopedSlots:t._u([{key:"item.status",fn:function(e){var r=e.item;return[a("v-chip",{attrs:{color:t.getColor(r.status),dark:""}},[t._v(" "+t._s(t.getStatus(r.status))+" ")])]}},{key:"item.changeStatus",fn:function(e){var r=e.item;return[a("v-select",{attrs:{items:t.statusOptions,label:"تغير الحالة","item-text":"text","item-value":"statusId",outlined:"","hide-details":"",dense:""},on:{change:function(e){return t.setStatus(e,r.id)}},model:{value:t.orderStatus,callback:function(e){t.orderStatus=e},expression:"orderStatus"}})]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.openEditDialog(r.id,r)}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteOrder(r.id,r)}}},[a("v-icon",[t._v("delete")])],1)]}}])})],1),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("span",[t._v("تعديل الطلب")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.editDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-divider"),a("v-form",{ref:"editOrder",staticClass:"pa-4",on:{submit:function(e){return e.preventDefault(),t.saveUpdate(t.orderToEditId)}},model:{value:t.validEditForm,callback:function(e){t.validEditForm=e},expression:"validEditForm"}},[a("v-text-field",{attrs:{label:"اسم الزبون",outlined:""},model:{value:t.orderToEdit.username,callback:function(e){t.$set(t.orderToEdit,"username",e)},expression:"orderToEdit.username"}}),a("v-text-field",{attrs:{label:"رقم الهاتف",outlined:""},model:{value:t.orderToEdit.phone,callback:function(e){t.$set(t.orderToEdit,"phone",e)},expression:"orderToEdit.phone"}}),a("v-text-field",{attrs:{label:"العنوان",outlined:""},model:{value:t.orderToEdit.address,callback:function(e){t.$set(t.orderToEdit,"address",e)},expression:"orderToEdit.address"}}),a("v-text-field",{attrs:{label:"اسم المنتج",outlined:""},model:{value:t.orderToEdit.product_name,callback:function(e){t.$set(t.orderToEdit,"product_name",e)},expression:"orderToEdit.product_name"}}),a("v-text-field",{attrs:{label:"الكمية",outlined:""},model:{value:t.orderToEdit.product_quantity,callback:function(e){t.$set(t.orderToEdit,"product_quantity",e)},expression:"orderToEdit.product_quantity"}}),a("v-select",{attrs:{items:t.orderToEditStatusOptions,label:"الحالة","item-text":"text","item-value":"value",outlined:""},model:{value:t.orderToEdit.status,callback:function(e){t.$set(t.orderToEdit,"status",e)},expression:"orderToEdit.status"}}),a("v-btn",{attrs:{block:"",color:"secondary",large:"",type:"submit"}},[t._v(" حفظ التعديلات ")])],1)],1)],1)],1)},J=[],B=(a("c975"),a("a434"),{data:function(){return{Orders:[],headers:[{text:"#",sortable:!1,value:"id",align:"start"},{text:"اسم الزبون",sortable:!1,value:"username",align:"start"},{text:"رقم الهاتف",sortable:!1,value:"phone",align:"start"},{text:"العنوان",sortable:!1,value:"address",align:"start"},{text:"المنتج",sortable:!1,value:"product_name",align:"start"},{text:"الكمية",sortable:!1,value:"product_quantity",align:"start"},{text:"الحالة",sortable:!1,value:"status",align:"start"},{text:"تغير حالة الطلب",sortable:!1,value:"changeStatus",align:"start"},{text:"اجرائات",sortable:!1,value:"actions",align:"start"}],statusOptions:[{text:"جديد",statusId:0},{text:"مرفوض",statusId:1},{text:"تم التسلم",statusId:2}],orderStatus:"",editDialog:!1,validEditForm:!1,orderToEdit:{username:"",phone:"",address:"",product_name:"",product_quantity:"",status:""},orderToEditId:"",orderToEditStatusOptions:[{text:"جديد",value:0},{text:"مرفوض",value:1},{text:"تم التسلم",value:2}],validNewForm:!1,orderToSave:{username:"",phone:"",address:"",product_name:"",product_quantity:"",status:""},orderToSaveStatusOptions:[{text:"جديد",value:0},{text:"مرفوض",value:1},{text:"تم التسلم",value:2}],newOrderDialog:!1,newOrderFormRules:[function(t){return!!t||"لا يمكن ترك هذا الحقل فارغ !"}]}},mounted:function(){this.getOrders()},methods:{getOrders:function(){var t=this;this.axios.get("/api/orders/read").then((function(e){t.Orders=e.data.reverse()})).catch((function(t){console.error(t)}))},getColor:function(t){switch(t){case 1:return"orange";case 2:return"green";default:return"red"}},getStatus:function(t){switch(t){case 1:return"مرفوض";case 2:return"تم التسليم";default:return"جديد"}},setStatus:function(t,e){var a=this;this.axios.put("/api/orders/updateStatus/".concat(e),{status:t}).then((function(t){a.getColor(),a.getStatus(),a.getOrders()})).catch((function(t){console.error(t)}))},openEditDialog:function(t,e){this.editDialog=!0,this.orderToEdit.username=e.username,this.orderToEdit.phone=e.phone,this.orderToEdit.address=e.address,this.orderToEdit.product_name=e.product_name,this.orderToEdit.product_quantity=e.product_quantity,this.orderToEdit.status=e.status,this.orderToEditId=t},createOrder:function(){var t=this;this.$refs.newOrder.validate()&&this.axios.post("/api/orders/create",this.orderToSave).then((function(e){t.getOrders(),t.newOrderDialog=!1})).catch((function(t){console.error(t)}))},saveUpdate:function(t){var e=this;this.axios.put("/api/orders/update/".concat(t),this.orderToEdit).then((function(t){e.getOrders(),e.editDialog=!1})).catch((function(t){console.error(t)}))},deleteOrder:function(t,e){var a=this,r=this.Orders.indexOf(e),o=window.confirm("حذف الطلب ؟");o&&this.axios.delete("/api/orders/delete/".concat(t)).then((function(t){a.Orders.splice(r,1)})).catch((function(t){console.error(t)}))}}}),z=B,K=a("b0af"),H=a("cc20"),G=a("8fea"),Q=a("169a"),W=a("ce7e"),X=a("b974"),Y=a("71d9"),Z=Object(l["a"])(z,U,J,!1,null,null,null),tt=Z.exports;u()(Z,{VBtn:f["a"],VCard:K["a"],VChip:H["a"],VDataTable:G["a"],VDialog:Q["a"],VDivider:W["a"],VForm:N["a"],VIcon:v["a"],VSelect:X["a"],VSpacer:k["a"],VTextField:A["a"],VToolbar:Y["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-4",attrs:{id:"productsPage"}},[a("Loading",{attrs:{show:t.isLoading}}),a("v-card",[a("v-toolbar",{attrs:{color:"primary",flat:""}},[a("span",{staticClass:"secondary--text"},[t._v("المنتجات")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",depressed:""},on:{click:function(e){t.dialogs.create=!0}}},[a("span",{staticClass:"primary--text"},[t._v("اضافة منتج جديد")])])],1),a("v-data-table",{attrs:{headers:t.headers,items:t.products},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.getProductInfo(r)}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteProduct(r.id)}}},[a("v-icon",[t._v("delete")])],1)]}},{key:"item.image",fn:function(e){var r=e.item;return[a("img",{attrs:{src:t.backend+"/attachments/"+r.image,width:"50",height:"50"}})]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialogs.create,callback:function(e){t.$set(t.dialogs,"create",e)},expression:"dialogs.create"}},[a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("span",[t._v("اضافة منتج")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialogs.create=!1,t.$refs.createRef.reset()}}},[a("v-icon",[t._v("close")])],1)],1),a("v-divider"),a("v-form",{ref:"createRef",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.svaeProduct(e)}},model:{value:t.forms.create.valid,callback:function(e){t.$set(t.forms.create,"valid",e)},expression:"forms.create.valid"}},[a("v-text-field",{attrs:{type:"text",label:"اسم المنتج",outlined:"",rules:t.forms.create.rules},model:{value:t.forms.create.name,callback:function(e){t.$set(t.forms.create,"name",e)},expression:"forms.create.name"}}),a("v-text-field",{attrs:{type:"number",label:"سعرالمنتج",outlined:"",rules:t.forms.create.rules},model:{value:t.forms.create.price,callback:function(e){t.$set(t.forms.create,"price",e)},expression:"forms.create.price"}}),a("v-text-field",{attrs:{type:"number",label:"كمية المنتج",outlined:"",rules:t.forms.create.rules},model:{value:t.forms.create.quantity,callback:function(e){t.$set(t.forms.create,"quantity",e)},expression:"forms.create.quantity"}}),a("v-textarea",{attrs:{label:"وصف المنتج",outlined:"",rules:t.forms.create.rules},model:{value:t.forms.create.description,callback:function(e){t.$set(t.forms.create,"description",e)},expression:"forms.create.description"}}),a("v-file-input",{attrs:{label:"صورة المنتج",outlined:"","prepend-icon":"",rules:t.forms.create.rules},on:{change:function(e){return t.getImage(e)}}}),a("v-btn",{attrs:{block:"",color:"secondary",large:"",type:"submit"}},[a("span",[t._v("اضافة منتج جديد")])])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialogs.update,callback:function(e){t.$set(t.dialogs,"update",e)},expression:"dialogs.update"}},[a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("span",[t._v("تحديث منتج")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialogs.update=!1,t.$refs.updateRef.reset()}}},[a("v-icon",[t._v("close")])],1)],1),a("v-divider"),a("v-form",{ref:"updateRef",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.updateProduct(t.forms.update.product_id)}},model:{value:t.forms.update.valid,callback:function(e){t.$set(t.forms.update,"valid",e)},expression:"forms.update.valid"}},[a("v-text-field",{attrs:{type:"text",label:"اسم المنتج",outlined:"",rules:t.forms.update.rules},model:{value:t.forms.update.name,callback:function(e){t.$set(t.forms.update,"name",e)},expression:"forms.update.name"}}),a("v-text-field",{attrs:{type:"number",label:"سعرالمنتج",outlined:"",rules:t.forms.update.rules},model:{value:t.forms.update.price,callback:function(e){t.$set(t.forms.update,"price",e)},expression:"forms.update.price"}}),a("v-text-field",{attrs:{type:"number",label:"كمية المنتج",outlined:"",rules:t.forms.update.rules},model:{value:t.forms.update.quantity,callback:function(e){t.$set(t.forms.update,"quantity",e)},expression:"forms.update.quantity"}}),a("v-textarea",{attrs:{label:"وصف المنتج",outlined:"",rules:t.forms.update.rules},model:{value:t.forms.update.description,callback:function(e){t.$set(t.forms.update,"description",e)},expression:"forms.update.description"}}),a("v-file-input",{attrs:{label:"صورة المنتج",outlined:"","prepend-icon":""},on:{change:function(e){return t.getImage(e)}}}),a("v-btn",{attrs:{block:"",color:"secondary",large:"",type:"submit"}},[a("span",[t._v("تعديل المنتج")])])],1)],1)],1)],1)},at=[],rt=(a("a4d3"),a("e01a"),a("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"loading"},[r("img",{attrs:{src:a("43c1"),alt:"Loading..."}})])}),ot=[],nt={name:"Loading",props:{show:{type:Boolean,requierd:!0}}},it=nt,st=(a("53a2"),Object(l["a"])(it,rt,ot,!1,null,null,null)),lt=st.exports,ct={components:{Loading:lt},data:function(){return{isLoading:!1,dialogs:{create:!1,update:!1},forms:{create:{valid:!1,name:"",price:"",quantity:"",description:"",image:"",rules:[function(t){return!!t||"الحقل مطلوب"}]},update:{valid:!1,name:"",price:"",quantity:"",description:"",product_id:"",image:"",rules:[function(t){return!!t||"الحقل مطلوب"}]}},products:[],headers:[{text:"#",value:"id",sortable:!0,align:"start"},{text:"اسم المنتج",value:"name",sortable:!1},{text:"الوصف",value:"description",sortable:!1},{text:"السعر",value:"price",sortable:!1},{text:"الكمية",value:"quantity",sortable:!1},{text:"الصورة",value:"image",sortable:!1},{text:"اجراء",value:"actions",sortable:!1}],image:""}},mounted:function(){this.getProducts()},methods:{getProducts:function(){var t=this;t.isLoading=!0,t.axios.get("/api/products/read").then((function(e){t.products=e.data.reverse(),t.isLoading=!1})).catch((function(e){console.log(JSON.stringify(e)),t.isLoading=!1}))},getImage:function(t){var e=this;e.image=t},svaeProduct:function(){var t=this;if(t.$refs.createRef.validate()){t.isLoading=!0;var e={name:t.forms.create.name,price:t.forms.create.price,description:t.forms.create.description,quantity:t.forms.create.quantity},a=new FormData;a.append("image",t.image),t.axios.post("/api/products/create",e).then((function(e){t.axios.put("/api/products/upload/".concat(e.data.id),a).then((function(e){t.getProducts(),t.dialogs.create=!1,t.isLoading=!1})).catch((function(e){console.error(JSON.stringify(e)),t.isLoading=!1}))})).catch((function(e){console.error(JSON.stringify(e)),t.isLoading=!1}))}else t.isLoading=!1},getProductInfo:function(t){var e=this;e.dialogs.update=!0,e.forms.update={name:t.name,price:t.price,description:t.description,quantity:t.quantity,product_id:t.id}},updateProduct:function(t){var e=this,a={name:e.forms.update.name,price:e.forms.update.price,description:e.forms.update.description,quantity:e.forms.update.quantity};if(e.isLoading=!0,""===e.image)e.axios.put("/api/products/update/".concat(t),a).then((function(t){e.dialogs.update=!1,e.$refs.updateRef.reset(),e.getProducts(),e.isLoading=!1})).catch((function(t){console.error(t),e.isLoading=!1}));else{var r=new FormData;r.append("image",e.image),e.axios.put("/api/products/update/".concat(t),a).then((function(t){e.dialogs.update=!1,e.$refs.updateRef.reset(),e.getProducts(),e.axios.put("/api/products/upload/".concat(t.data.id),r).then((function(t){e.getProducts(),e.dialogs.create=!1,e.isLoading=!1})).catch((function(t){console.error(JSON.stringify(t)),e.isLoading=!1}))})).catch((function(t){console.error(t),e.isLoading=!1}))}},deleteProduct:function(t){var e=this,a=window.confirm("حذف المنتج؟");e.isLoading=!0,a?e.axios.delete("/api/products/delete/".concat(t)).then((function(t){e.getProducts(),e.isLoading=!1})).catch((function(t){console.error(JSON.stringify(t)),e.isLoading=!1})):e.isLoading=!1}}},ut=ct,dt=a("23a7"),pt=a("a844"),ft=Object(l["a"])(ut,et,at,!1,null,null,null),vt=ft.exports;u()(ft,{VBtn:f["a"],VCard:K["a"],VDataTable:G["a"],VDialog:Q["a"],VDivider:W["a"],VFileInput:dt["a"],VForm:N["a"],VIcon:v["a"],VSpacer:k["a"],VTextField:A["a"],VTextarea:pt["a"],VToolbar:Y["a"]});a("d3b7");var mt=a("2f62"),gt=a("bc3a"),bt=a.n(gt);r["a"].use(mt["a"]);var ht=new mt["a"].Store({state:{token:localStorage.token||null,username:localStorage.username||null,productDialog:!1},mutations:{SET_TOKEN:function(t,e){return t.token=e},REMOVE_TOKEN:function(t){return t.token=null},SET_USERNAME:function(t,e){return t.username=e},REMOVE_USERNAME:function(t){return t.username=null}},getters:{isLoggedIn:function(t){return null!=t.token},getUsername:function(t){return t.username}},actions:{loginAsAdmin:function(t,e){return new Promise((function(a,r){bt.a.post("/api/admin/login",e).then((function(r){t.commit("SET_TOKEN",r.data.token),t.commit("SET_USERNAME",e.username),localStorage.setItem("token",r.data.token),localStorage.setItem("username",e.username),a(r.data.token)})).catch((function(t){r(JSON.stringify(t))}))}))},logout:function(t){return new Promise((function(e,a){t.commit("REMOVE_TOKEN"),t.commit("REMOVE_USERNAME"),localStorage.removeItem("token"),localStorage.removeItem("username"),kt.push({path:"/login"})}))}},modules:{}});function xt(t,e,a){var r=ht.getters.isLoggedIn;r?a():a({path:"/login"})}function yt(t,e,a){var r=ht.getters.isLoggedIn;r?a({path:"/"}):a()}r["a"].use(S["a"]);var _t=[{path:"/",name:"Home",component:I,beforeEnter:xt},{path:"/orders",name:"Orders",component:tt,beforeEnter:xt},{path:"/products",name:vt,component:vt,beforeEnter:xt},{path:"/login",name:"Login",component:M,beforeEnter:yt}],wt=new S["a"]({mode:"history",base:"/",routes:_t}),kt=wt,Tt=a("f309"),Et=a("776f");r["a"].use(Tt["a"]);var St=new Tt["a"]({rtl:!0,theme:{options:{customProperties:!0},themes:{light:{primary:"#343434",secondary:"#6CA6C1",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{ar:Et["a"]},current:"ar"},icons:{iconfont:"md"}}),Ot=a("2106"),Vt=a.n(Ot),$t="http://63.250.47.103:5000";r["a"].use(Vt.a,bt.a),r["a"].mixin({data:function(){return{get backend(){return $t},get attachments(){return"/attachments/"}}}}),r["a"].config.productionTip=!1,bt.a.defaults.baseURL=$t,bt.a.defaults.headers.common["Authorization"]="",new r["a"]({router:kt,store:ht,vuetify:St,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.328e790d.js.map